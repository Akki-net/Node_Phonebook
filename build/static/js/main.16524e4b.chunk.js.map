{"version":3,"sources":["components/Filter.js","components/PersonForm.js","services/persons.js","components/Persons.js","components/Notification.js","App.js","index.js"],"names":["Filter","handler","val","className","onChange","value","PersonForm","props","subHandler","name","number","onSubmit","method","for","id","placeholder","maxLength","type","baseURL","axios","get","then","response","data","newObj","post","put","delete","Persons","persons","setHandler","map","p","onClick","window","confirm","personServices","filter","Notification","error","nml","style","color","padding","border","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","newSearch","setNewSearch","addNew","setAddNew","errMsg","setErrMsg","useEffect","returnedPersons","filteredList","word","RegExp","search","Event","target","preventDefault","newPerson","forEach","rList","l","updatedItem","catch","msg","setTimeout","concat","console","log","nam","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.16524e4b.chunk.js","sourcesContent":["import React from 'react';\r\n\r\nconst Filter = ({ handler,val }) => <input className=\"form-control\" onChange={handler} value={val} />\r\n\r\nexport default Filter;","import React from \"react\";\r\n\r\nconst PersonForm = (props) => {\r\n\r\n    const { handler,subHandler,name,number} = props;\r\n\r\n    return(\r\n        <form onSubmit={handler} method=\"post\">\r\n        <div className=\"form-group\">\r\n          <label for=\"name\">name:</label> \r\n          <input id=\"name\" className=\"form-control\" onChange={subHandler} placeholder=\"XYZ \" name=\"pName\" value={name} />\r\n        </div>\r\n        <div>\r\n            <label for=\"number\">number:</label>\r\n          <input id=\"number\" className=\"form-control\" placeholder=\"9623500000\" maxLength=\"10\" name=\"pNumber\" value={number} onChange={subHandler} />\r\n        </div>\r\n        <div className=\"mt-2\">\r\n          <button className=\"btn btn-primary\" type=\"submit\">Add</button>\r\n        </div>\r\n        </form>\r\n    )\r\n};\r\n\r\nexport default PersonForm;","import axios from 'axios';\r\nconst baseURL = '/api/persons';\r\n\r\nconst getAll = () => {\r\n    const request = axios.get(baseURL);\r\n    return request.then(response => response.data)\r\n};\r\n\r\nconst create = (newObj) => {\r\n    const request = axios.post(baseURL,newObj);\r\n    return request.then(response => response.data)\r\n};\r\n\r\nconst update = (id, newObj) => {\r\n    const request = axios.put(`${baseURL}/${id}`,newObj);\r\n    return request.then(response => response.data)\r\n};\r\n\r\nconst del = (id) => {\r\n    const request = axios.delete(`${baseURL}/${id}`);\r\n    return request.then(response => response.data)\r\n};\r\n\r\nexport default {getAll, create, update, del};","import React from \"react\";\r\nimport personServices from '../services/persons';\r\n\r\nconst Persons = ({persons, setHandler}) => {\r\n    const deleteHandler = (id) => {\r\n        const result = window.confirm(\"Do You want to delete it?\")\r\n        if(result === true){\r\n            personServices.del(id)\r\n            .then(\r\n               setHandler(persons.filter(p => p.id !== id))\r\n            )\r\n        } \r\n    };\r\n \r\n    return(\r\n        <div className=\"bg-light p-2\">\r\n            { persons.map(p => (\r\n                <div className=\"d-flex justify-content-between align-content-center mb-2\" key={p.id}> \r\n                   <div> {p.name} {p.number} </div>\r\n                   <button className=\"btn btn-danger btn-sm\" onClick={() => deleteHandler(p.id)}>Delete</button>\r\n                </div>\r\n            )\r\n          ) }\r\n        </div>\r\n    )\r\n};\r\n\r\nexport default Persons","import React from 'react';\r\n\r\nconst Notification = ({error, nml}) => {\r\n    if(nml){\r\n     return  <p style={{color: \"green\", padding: \"5px\", border: \"2px solid green\"}}> {nml} </p> \r\n    }\r\n    \r\n    if(error){\r\n     return <p style={{color: \"red\", padding: \"5px\", border: \"2px solid red\"}}> {error} </p>\r\n    }\r\n\r\n    return <> </>\r\n    \r\n};\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Filter from './components/Filter';\r\nimport PersonForm from './components/PersonForm';\r\nimport Persons from './components/Persons';\r\nimport personServices from './services/persons';\r\nimport Notification from './components/Notification';\r\n\r\nconst App = () => {\r\n  const [ persons, setPersons ] = useState([]); \r\n  const [ newName, setNewName ] = useState('');\r\n  const [ newNumber, setNewNumber ] = useState('');\r\n  const [ newSearch, setNewSearch ] = useState('');\r\n  const [ addNew, setAddNew ] = useState('');\r\n  const [ errMsg, setErrMsg ] = useState('');\r\n\r\n  const changeHandler = (Event) => {\r\n    let nam = Event.target.name;\r\n    let val = Event.target.value;\r\n    if(nam === \"pName\"){\r\n      setNewName(val);\r\n    }\r\n    else{\r\n      setNewNumber(val);\r\n    }\r\n  \r\n  };\r\n\r\n  useEffect(() => {\r\n    personServices.getAll()\r\n    .then(returnedPersons => setPersons(returnedPersons))}, []);\r\n\r\n  const submitHandler = Event => {\r\n    Event.preventDefault();\r\n    const newPerson = {\r\n      name: newName,\r\n      number: newNumber\r\n    };\r\n    \r\n    persons.forEach(p => {\r\n      if(p.name === newName) {\r\n        let result = false;\r\n        result = window.confirm(`${newName} is already added to phonebook, want to replace with new one?`);\r\n        if(result){\r\n          personServices.getAll().then(rList => {\r\n            rList.forEach(l => {\r\n              if(l.name === newName)\r\n                {\r\n                  const id = l.id;\r\n                 personServices.update(id, newPerson)\r\n                .then(updatedItem => {\r\n                 setPersons(persons.map(val => val.name!==newName ? val : updatedItem));\r\n                  setAddNew(`Changed ${newName}`);  \r\n                 setNewName('');\r\n                   setNewNumber('');\r\n                  }).catch(error => {\r\n                    const msg = `Information of ${l.name} has already been removed`;\r\n                    setErrMsg(msg);\r\n                    setPersons(persons.map(p => p.name!== l.name));\r\n                    setTimeout(()=> setErrMsg(''), 5000);\r\n                  });\r\n                }\r\n            });\r\n          });\r\n        }\r\n        else{\r\n         setNewName('');\r\n         setNewNumber('')\r\n        }\r\n      }\r\n      else{\r\n        personServices.create(newPerson)\r\n        .then(newObj => {\r\n        setPersons(persons.concat(newObj));\r\n        setAddNew(`Added ${newObj.name}`);\r\n        setNewName('');\r\n        setNewNumber('');\r\n      })\r\n      .catch(error => {\r\n        console.log(error.response.data);\r\n        setErrMsg(error.response.data);\r\n      })\r\n      }\r\n    });\r\n\r\n  };\r\n\r\n  const filterHandler = Event => {\r\n    setNewSearch(Event.target.value);\r\n  };\r\n\r\n  const filteredList = newSearch === '' ? persons : persons.filter(p => {\r\n    let word = new RegExp(newSearch, 'i');\r\n    if(p.name.search(word) !== -1){\r\n      return p;\r\n    }\r\n  }); \r\n\r\n  return (\r\n    <div className=\"container bg-info pt-3 mt-3 rounded\">\r\n      <h2 className=\"bg-dark text-info p-2\">Phonebook</h2>\r\n     <Notification error={errMsg} nml={addNew} />\r\n      <Filter handler={filterHandler} val={newSearch} />\r\n      <h3 className=\"mt-2\">Add a new</h3>\r\n      <PersonForm handler={submitHandler} subHandler={changeHandler} name={newName} number={newNumber} />\r\n      \r\n      <h3>Numbers</h3>\r\n      <Persons persons={filteredList} setHandler={setPersons} />\r\n    </div>\r\n  )\r\n}\r\n\r\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\n\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n\n"],"sourceRoot":""}